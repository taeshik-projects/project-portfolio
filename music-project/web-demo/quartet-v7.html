<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ode to Joy - String Quartet V7 (Role-Based Arrangement)</title>
    <script src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            max-width: 900px;
            margin: 50px auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
        }
        h1 {
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .subtitle {
            text-align: center;
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 40px;
        }
        .version-badge {
            display: inline-block;
            background: rgba(255, 200, 100, 0.3);
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .player {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }
        midi-player {
            display: block;
            width: 100%;
            margin: 20px 0;
        }
        .download-btn {
            display: inline-block;
            background: rgba(255, 255, 255, 0.3);
            color: white;
            padding: 12px 30px;
            border-radius: 25px;
            text-decoration: none;
            margin: 10px 5px;
            transition: all 0.3s;
        }
        .download-btn:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: translateY(-2px);
        }
        .role-based {
            background: rgba(255, 200, 100, 0.2);
            border-left: 4px solid rgba(255, 200, 100, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        .role-based h3 {
            margin-top: 0;
            color: #ffd280;
        }
        .info {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }
        .info h3 {
            margin-top: 0;
        }
        .info ul {
            line-height: 1.8;
        }
        .role-card {
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid;
        }
        .melody-card {
            border-left-color: #ff6b6b;
        }
        .bass-card {
            border-left-color: #4ecdc4;
        }
        .harmony-card {
            border-left-color: #45b7d1;
        }
        .range-info {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 10px;
            margin: 10px 0;
            font-size: 0.9em;
        }
        .feedback-highlight {
            background: rgba(100, 200, 100, 0.2);
            border-left: 4px solid rgba(100, 200, 100, 0.8);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        .comparison-table th, .comparison-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        .comparison-table th {
            background: rgba(255, 255, 255, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ» Ode to Joy</h1>
        <div class="subtitle">
            String Quartet - Auto-Arranged by AI
            <br>
            <span class="version-badge">âœ¨ Version 7.0 - Role-Based Approach</span>
        </div>
        
        <div class="feedback-highlight">
            <h3>ğŸ¯ ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜</h3>
            <p><strong>ëŒ€ì‹ë‹˜ì˜ ì§€ì ì‚¬í•­:</strong></p>
            <ol>
                <li><strong>"ë©œë¡œë””ê°€ ì—†ì–´"</strong> â†’ Violin Iì´ ë©œë¡œë”” ì „ë‹´</li>
                <li><strong>"ë² ì´ìŠ¤ë¼ì¸ë„ í•˜ë‚˜ë„ ë‚¨ì•„ìˆì§€ ì•Šì•˜ì–´"</strong> â†’ Celloê°€ ë² ì´ìŠ¤ ë¼ì¸ ì „ë‹´</li>
                <li><strong>"ì¤‘ìŒì—­ëŒ€ëŠ” ì˜¤ì¼€ìŠ¤íŠ¸ë¼ì˜ ê°€ì¥ ì¤‘ìš”í•œ íŒŒíŠ¸ë¥¼ ë² ê»´ë³´ì"</strong> â†’ Viola/Violin IIê°€ í™”ì„± ì±„ì›€</li>
            </ol>
        </div>
        
        <div class="role-based">
            <h3>ğŸ¼ ì—­í•  ê¸°ë°˜ í¸ê³¡ (Role-Based Arrangement)</h3>
            <p><strong>í•µì‹¬ ì•„ì´ë””ì–´:</strong> ê° ì•…ê¸°ê°€ ëª…í™•í•œ ì—­í• ì„ ê°€ì§€ê³ , ì›ê³¡ì˜ í•´ë‹¹ ì—­í•  ë¶€ë¶„ì—ì„œ ìŒì„ ì¶”ì¶œ</p>
            
            <div class="role-card melody-card">
                <h4>ğŸ» Violin I - ë©œë¡œë”” ë¼ì¸ (Melody)</h4>
                <p><strong>ì „ëµ:</strong> ì›ê³¡ì˜ ë†’ì€ ìŒë“¤(C5â†‘) ì¤‘ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒë“¤ ì„ íƒ</p>
                <p><strong>ê²°ê³¼:</strong> 107ê°œ ìŒí‘œ, F#6-A6 (MIDI 57-93)</p>
            </div>
            
            <div class="role-card bass-card">
                <h4>ğŸ» Cello - ë² ì´ìŠ¤ ë¼ì¸ (Bass)</h4>
                <p><strong>ì „ëµ:</strong> ì›ê³¡ì˜ ë‚®ì€ ìŒë“¤(C3â†“) ì¤‘ ê°€ì¥ ì¤‘ìš”í•œ ê²ƒë“¤ ì„ íƒ, ë² ì´ìŠ¤ ì—­í•  íŒŒíŠ¸ ìš°ì„ </p>
                <p><strong>ê²°ê³¼:</strong> 106ê°œ ìŒí‘œ, D2-A3 (MIDI 38-59)</p>
            </div>
            
            <div class="role-card harmony-card">
                <h4>ğŸ» Viola & Violin II - í•˜ëª¨ë‹ˆ (Harmony)</h4>
                <p><strong>ì „ëµ:</strong> ì›ê³¡ì˜ ì¤‘ìŒì—­ëŒ€ ìŒë“¤ ì¤‘ í™”ì„±ì„ ì±„ìš°ëŠ” ìŒë“¤ ì„ íƒ</p>
                <p><strong>ê²°ê³¼:</strong> ê°ê° 110ê°œ ìŒí‘œ, ì¤‘ê°„ ìŒì—­ëŒ€</p>
            </div>
        </div>
        
        <div class="player">
            <h2>â–¶ï¸ Listen</h2>
            <midi-player
                src="ode_to_joy_quartet_v7.mid"
                sound-font 
                visualizer="#myVisualizer">
            </midi-player>
            <midi-visualizer type="piano-roll" id="myVisualizer"></midi-visualizer>
            
            <div style="text-align: center; margin-top: 20px;">
                <a href="ode_to_joy_quartet_v7.mid" download class="download-btn">â¬‡ï¸ Download MIDI</a>
                <a href="ode_to_joy_quartet_v7.musicxml" download class="download-btn">â¬‡ï¸ Download MusicXML</a>
                <a href="quartet-v6.html" class="download-btn" style="background: rgba(150, 150, 150, 0.3);">ğŸ‘€ View V6</a>
                <a href="quartet.html" class="download-btn" style="background: rgba(150, 150, 150, 0.2);">ğŸ‘€ View V1</a>
            </div>
        </div>
        
        <div class="info">
            <h3>ğŸ“Š Arrangement Details</h3>
            
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Part</th>
                        <th>Role</th>
                        <th>Notes</th>
                        <th>Range (MIDI)</th>
                        <th>Range (Note)</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Violin I</strong></td>
                        <td>Melody</td>
                        <td>107</td>
                        <td>57-93</td>
                        <td>F#6 - A6</td>
                    </tr>
                    <tr>
                        <td><strong>Violin II</strong></td>
                        <td>Upper Harmony</td>
                        <td>110</td>
                        <td>57-66</td>
                        <td>A3 - F#4</td>
                    </tr>
                    <tr>
                        <td><strong>Viola</strong></td>
                        <td>Middle Harmony</td>
                        <td>110</td>
                        <td>50-57</td>
                        <td>D3 - A3</td>
                    </tr>
                    <tr>
                        <td><strong>Cello</strong></td>
                        <td>Bass</td>
                        <td>106</td>
                        <td>38-59</td>
                        <td>D2 - A3</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>ğŸµ Duration Distribution (ë¦¬ë“¬ ë³´ì¡´)</h3>
            <ul>
                <li><strong>8th notes (0.5 beats):</strong> 33 notes</li>
                <li><strong>Quarter notes (1.0 beats):</strong> 57-60 notes â­ï¸</li>
                <li><strong>Dotted quarter (1.5 beats):</strong> 4 notes</li>
                <li><strong>Half notes (2.0 beats):</strong> 13-15 notes</li>
            </ul>
            
            <h3>âš™ï¸ Selection Algorithm</h3>
            <ul>
                <li><strong>Melody Extraction:</strong> ë†’ì€ ìŒ(C5â†‘) + duration ê¸¸ìˆ˜ë¡ + ê°•ë°•ì¼ìˆ˜ë¡ ì¤‘ìš”</li>
                <li><strong>Bass Extraction:</strong> ë‚®ì€ ìŒ(C3â†“) + ë² ì´ìŠ¤ ì—­í•  íŒŒíŠ¸ + ê¸´ duration ì¤‘ìš”</li>
                <li><strong>Harmony Filling:</strong> ì›ê³¡ì˜ ì‹¤ì œ ì¤‘ìŒì—­ëŒ€ ìŒ ì‚¬ìš© â†’ ì—†ìœ¼ë©´ í™”ì„±ì— ë§ëŠ” ìŒ ìƒì„±</li>
                <li><strong>Range Adjustment:</strong> ê° ì•…ê¸°ì˜ ì—°ì£¼ ê°€ëŠ¥ ìŒì—­ ë‚´ë¡œ ì¡°ì •</li>
            </ul>
            
            <h3>ğŸ” Evolution from V6</h3>
            <ul>
                <li><strong>V6:</strong> í™”ì„± êµ¬ê°„ ë¶„ì„ â†’ ì¼ê´€ëœ í™”ì„± but ì—­í•  ë¶ˆë¶„ëª…</li>
                <li><strong>V7:</strong> ì—­í•  ê¸°ë°˜ ì ‘ê·¼ â†’ ë©œë¡œë””/ë² ì´ìŠ¤/í•˜ëª¨ë‹ˆ ëª…í™• ë¶„ë¦¬</li>
                <li><strong>Key Fix:</strong> ë©œë¡œë”” ë¼ì¸ ë³µì›, ë² ì´ìŠ¤ ë¼ì¸ ê°•í™”</li>
            </ul>
        </div>
        
        <div style="text-align: center; margin-top: 30px; opacity: 0.7; font-size: 0.9em;">
            <p>Generated: 2026-02-16 | Version 7.0 (Role-Based Approach)</p>
            <p><strong>Feedback-Driven Development:</strong> V1 â†’ V4 â†’ V6 â†’ V7 (ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ì§„í™”)</p>
            <p>Powered by music21 + Python + html-midi-player</p>
        </div>
    </div>
</body>
</html>